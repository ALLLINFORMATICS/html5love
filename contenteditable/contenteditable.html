<!DOCTYPE html>
<head>
	<title>Content Editable</title>
	<style>
		[contenteditable]:hover {
	  		outline: 1px dotted #ccc;
		}
	</Style>
	<script type="text/javascript" src="../js/jquery-1.4.4.min.js"></script>
	<script type="text/javascript" src="../js/modernizr-1.6.min.js"></script>
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<script type='text/javascript'>
	$(function(){
		
		if (!Modernizr.localstorage){
			$('#content').html('This browser does not support localStorage');
			return;	
		}
		
		localStorage.setItem('defaultValue', $('#editable').html());				
		
		if (localStorage.getItem('contenteditable')) {
			$('#editable').html(localStorage.getItem('contenteditable'));
		}
		
		$('#editable').blur(function(){
			localStorage.setItem('contenteditable', $(this).html());
		})
		
		$('#clear').click(function(){
			$('#editable').html(localStorage.getItem('defaultValue'));
			localStorage.setItem('contenteditable', localStorage.getItem('defaultValue'));
		})
	});
	</script>
	
</head>
<body>
	<div id="content">
		
	    <section id="editable" contenteditable="true">
	        <h2>Go ahead, edit away!</h2>
	        <p>
	            Here's a typical paragraph element
	        </p>
	        <ol>
	            <li>
	                and now a list
	            </li>
	            <li>
	                with only
	            </li>
	            <li>
	                three items
	            </li>
	        </ol>
	    </section>
	    <div>
	        <input type="button" id="clear" value="Clear changes" />
	    </div> 
		
	</div>
</body>
</html>